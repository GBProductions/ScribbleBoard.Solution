@{
    ViewData["Title"] = "Account";
}

@using System.Security.Claims
<h1>ScribbleBoard Account</h1>
@if (User.Identity.IsAuthenticated)
{
    <h2>Hello, @User.Identity.Name!</h2>

    <p><img src="~/img/scribble.gif" class="icon"/> @Html.ActionLink("Create a new scribble", "Create", "Images")</p>
    <p><img src="~/img/gallery.gif" class="icon"/> @Html.ActionLink("See your gallery","UserGallery","Images", new {user = User.Identity.Name})</p>
    <p><img src="~/img/star.gif" class="icon" />@Html.ActionLink("Home","Index","Home")</p>

    @using (Html.BeginForm("LogOff", "Account"))
    {
        <input type="submit" data-toggle="modal" data-target="#myModal" class="btn btn-primary" value="Log out" />
    }
}
else
{
    <p><img src="~/img/smile.gif" class="icon"/> @Html.ActionLink("Register for a new account", "Register")</p>
    <p><img src="~/img/heart.gif" class="icon"/> @Html.ActionLink("Log in to an existing account", "Login")</p>
    <p><img src="~/img/star.gif" class="icon" />@Html.ActionLink("Home","Index","Home")</p>
}

<div id="myModal" class="modal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Log Off</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>You have logged off</p>
      </div>
      <div class="modal-footer">
        <input type="button" class="btn btn-primary" onclick="location.href='@Url.Action("Index", "Home")'" value="Close" />
      </div>
    </div>
  </div>
</div>